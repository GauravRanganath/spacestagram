{"ast":null,"code":"import _slicedToArray from\"/Users/gauravranganath/Desktop/Shopify Technical Challenge/spacestagram/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from\"react\";import post from\"./post.module.css\";import Card from\"@mui/material/Card\";import CardHeader from\"@mui/material/CardHeader\";import CardMedia from\"@mui/material/CardMedia\";import CardContent from\"@mui/material/CardContent\";import CardActions from\"@mui/material/CardActions\";import IconButton from\"@mui/material/IconButton\";import Typography from\"@mui/material/Typography\";import FavoriteIcon from\"@mui/icons-material/Favorite\";import ShareIcon from\"@mui/icons-material/Share\";import Collapsible from\"react-collapsible-paragraph\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Post=function Post(_ref){var data=_ref.data;var _useState=useState(localStorage.getItem(data.date)),_useState2=_slicedToArray(_useState,2),liked=_useState2[0],setLikeStatus=_useState2[1];var handleInitLike=function handleInitLike(){if(liked===null){localStorage.setItem(data.date,\"true\");setLikeStatus(true);}else{setLikeStatus(!liked);}};var copy=function copy(){var el=document.createElement(\"input\");el.value=window.location.href+\"post/\"+data.date;document.body.appendChild(el);el.select();document.execCommand(\"copy\");document.body.removeChild(el);alert(\"Link copied to clipboard!\");};var renderLike=function renderLike(){if(localStorage.getItem(data.date)===\"false\"){localStorage.setItem(data.date,liked.toString());return/*#__PURE__*/_jsx(FavoriteIcon,{color:\"disabled\"});}else if(localStorage.getItem(data.date)===\"true\"){localStorage.setItem(data.date,liked.toString());return/*#__PURE__*/_jsx(FavoriteIcon,{color:\"error\"});}else{return/*#__PURE__*/_jsx(FavoriteIcon,{color:\"disabled\"});}};var renderContent=function renderContent(){if(data.media_type===\"video\"){return/*#__PURE__*/_jsx(CardMedia,{component:\"iframe\",image:data.url,alt:data.name});}else{return/*#__PURE__*/_jsx(CardMedia,{component:\"img\",height:\"500\",image:data.url,alt:data.name});}};return/*#__PURE__*/_jsxs(Card,{className:post.post,sx:{maxWidth:500},children:[/*#__PURE__*/_jsx(CardHeader,{title:data.title,subheader:data.date}),renderContent(),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",textAlign:\"justify\",children:/*#__PURE__*/_jsx(Collapsible,{lines:2,children:data.explanation})})}),/*#__PURE__*/_jsxs(CardActions,{disableSpacing:true,children:[/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"add to favorites\",onClick:function onClick(){return handleInitLike();},children:renderLike()}),/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"share\",onClick:function onClick(){return copy();},children:/*#__PURE__*/_jsx(ShareIcon,{})})]})]});};export default Post;","map":{"version":3,"sources":["/Users/gauravranganath/Desktop/Shopify Technical Challenge/spacestagram/src/components/Post.js"],"names":["React","post","Card","CardHeader","CardMedia","CardContent","CardActions","IconButton","Typography","FavoriteIcon","ShareIcon","Collapsible","useState","Post","data","localStorage","getItem","date","liked","setLikeStatus","handleInitLike","setItem","copy","el","document","createElement","value","window","location","href","body","appendChild","select","execCommand","removeChild","alert","renderLike","toString","renderContent","media_type","url","name","maxWidth","title","explanation"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport post from \"./post.module.css\";\nimport Card from \"@mui/material/Card\";\nimport CardHeader from \"@mui/material/CardHeader\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardActions from \"@mui/material/CardActions\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Typography from \"@mui/material/Typography\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport ShareIcon from \"@mui/icons-material/Share\";\nimport Collapsible from \"react-collapsible-paragraph\";\nimport { useState } from \"react\";\n\nconst Post = ({ data }) => {\n  const [liked, setLikeStatus] = useState(localStorage.getItem(data.date));\n\n  const handleInitLike = () => {\n    if (liked === null) {\n      localStorage.setItem(data.date, \"true\");\n      setLikeStatus(true);\n    } else {\n      setLikeStatus(!liked);\n    }\n  };\n\n  const copy = () => {\n    const el = document.createElement(\"input\");\n    el.value = window.location.href + \"post/\" + data.date;\n    document.body.appendChild(el);\n    el.select();\n    document.execCommand(\"copy\");\n    document.body.removeChild(el);\n    alert(\"Link copied to clipboard!\")\n  };\n\n  const renderLike = () => {\n    if (localStorage.getItem(data.date) === \"false\") {\n      localStorage.setItem(data.date, liked.toString());\n      return <FavoriteIcon color=\"disabled\" />;\n    } else if (localStorage.getItem(data.date) === \"true\") {\n      localStorage.setItem(data.date, liked.toString());\n      return <FavoriteIcon color=\"error\" />;\n    } else {\n      return <FavoriteIcon color=\"disabled\" />;\n    }\n  };\n\n  const renderContent = () => {\n    if (data.media_type === \"video\") {\n      return (\n        <CardMedia\n          component=\"iframe\"\n          image={data.url}\n          alt={data.name}\n        />\n      );\n    } else {\n      return (\n        <CardMedia\n          component=\"img\"\n          height=\"500\"\n          image={data.url}\n          alt={data.name}\n        />\n      );\n    }\n  };\n\n  return (\n    <Card className={post.post} sx={{ maxWidth: 500 }}>\n      <CardHeader title={data.title} subheader={data.date} />\n      {renderContent()}\n      <CardContent>\n        <Typography variant=\"body2\" color=\"text.secondary\" textAlign=\"justify\">\n          <Collapsible lines={2}>{data.explanation}</Collapsible>\n        </Typography>\n      </CardContent>\n      <CardActions disableSpacing>\n        <IconButton\n          aria-label=\"add to favorites\"\n          onClick={() => handleInitLike()}\n        >\n          {renderLike()}\n        </IconButton>\n        <IconButton aria-label=\"share\" onClick={() => copy()}>\n          <ShareIcon />\n        </IconButton>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default Post;\n"]},"metadata":{},"sourceType":"module"}